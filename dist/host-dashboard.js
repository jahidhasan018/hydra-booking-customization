var M=(f,t,r)=>new Promise((s,L)=>{var d=h=>{try{g(r.next(h))}catch(D){L(D)}},o=h=>{try{g(r.throw(h))}catch(D){L(D)}},g=h=>h.done?s(h.value):Promise.resolve(h.value).then(d,o);g((r=r.apply(f,t)).next())});import{_ as Y,r as j,A as $,y as me,z as ue,f as Z,b as i,d as n,e,F as U,m as E,h as m,t as a,n as B,j as z,G as N,B as be,H as fe,w as X,g as de,i as xe,a as K,c as ye,o as pe,k as C,l as he,I as R,v as G,q as ae,P as ke,s as Q,u as le,x as ne,J as re,C as q,D as we,E as Ce}from"./style-DDuYs_LQ.js";const Le={name:"BookingsList",props:{bookings:{type:Array,default:()=>[]},showActions:{type:Boolean,default:!1},showAttendeeActions:{type:Boolean,default:!1}},emits:["view-details","update-status","cancel-booking","reschedule-booking","show-alert"],setup(f,{emit:t}){const r=j(new Set),s=l=>M(this,null,function*(){(yield fe(l))?(t("link-copied"),t("show-alert","success","Join link copied to clipboard")):t("show-alert","error","Failed to copy link")}),L=l=>{const _=new Date(l.meeting_dates+" "+l.start_time),b=new Date;return(_.getTime()-b.getTime())/(1e3*3600)>=24},d=l=>l?new Date(l).toLocaleDateString():"N/A",o=l=>!l||!Array.isArray(l)||l.length===0?null:l[0].attendee_name||l[0].name||null,g=l=>!l||!Array.isArray(l)||l.length===0?null:l[0].email||null,h=l=>{if(!l)return null;try{const _=JSON.parse(l),b=Object.keys(_);return b.length===0?null:_[b[0]].location||b[0]}catch(_){return l}},D=l=>{if(!l)return!1;try{const _=JSON.parse(l),b=Object.keys(_);if(b.length===0)return!1;const x=_[b[0]];return!!(x.join_url||x.meeting_url)}catch(_){return!1}},v=l=>{switch(l==null?void 0:l.toLowerCase()){case"paid":case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=l=>{if(!l)return null;try{const _=JSON.parse(l),b=Object.keys(_);if(b.length===0)return null;const x=_[b[0]];return x.join_url||x.meeting_url||null}catch(_){return null}},T=l=>{switch(l){case"1":case 1:return"Paid";case"0":case 0:return"Pending";case"-1":case-1:return"Failed";default:return l||"Unknown"}},V=l=>$(l)?l.status==="confirmed":l.status==="confirmed"&&(D(l.meeting_locations)||l.meeting_id),H=l=>{if($(l))return!0;const _=new Date,b=new Date(l.meeting_dates+" "+l.start_time),x=new Date(l.meeting_dates+" "+l.end_time),J=new Date(b.getTime()-5*60*1e3);return _>=J&&_<=x};return{formatDateTime:Z,formatDate:d,getStatusClass:ue,getStatusText:me,copyJoinLink:s,canCancel:L,getAttendeeName:o,getAttendeeEmail:g,formatLocation:h,hasJoinLink:D,getPaymentStatusClass:v,getPaymentStatusText:T,getJoinLink:u,canShowMeetingButton:V,isMeetingAvailable:H,getMeetingButtonClass:l=>{if(!H(l))return"btn-secondary opacity-50 cursor-not-allowed";if($(l))return"btn-success animate-pulse";const _=new Date,b=new Date(l.meeting_dates+" "+l.start_time),x=new Date(l.meeting_dates+" "+l.end_time);return _>=b&&_<=x?"btn-success animate-pulse":"btn-primary"},getMeetingButtonText:(l,_)=>{if($(l))return"Start Meeting";if(!H(l))return"Scheduled";const b=new Date,x=new Date(l.meeting_dates+" "+l.start_time),J=new Date(l.meeting_dates+" "+l.end_time);return b>=x&&b<=J?"Start Meeting":`Available in ${Math.ceil((x.getTime()-b.getTime())/6e4)}m`},handleMeetingAction:l=>M(this,null,function*(){if(!H(l)&&!$(l)){t("show-alert","info","Meeting will be available 5 minutes before the scheduled time.");return}if(!r.value.has(l.id))try{r.value.add(l.id);const b=yield(f.showActions?N:be).getMeetingLink(l.id);if(console.log("API Response:",b),console.log("Response status:",b.status),console.log("Response meeting_url:",b.meeting_url),console.log("Using API:",f.showActions?"hostAPI":"attendeeAPI"),b.status&&b.meeting_url){let x=b.meeting_url.toString().trim();x.startsWith('"')&&x.endsWith('"')&&(x=x.slice(1,-1)),x.startsWith("'")&&x.endsWith("'")&&(x=x.slice(1,-1)),console.log("Cleaned URL:",x),console.log("About to navigate to:",x),window.location.href=x}else{const x=u(l.meeting_locations);x?(window.open(x,"_blank","noopener,noreferrer"),t("show-alert","success","Meeting opened in new tab")):$(l)?t("show-alert","info","Test mode: Meeting link would be available here in production."):t("show-alert","error","Meeting link not available. Please contact support.")}}catch(_){console.error("Error getting meeting link:",_),$(l)?t("show-alert","info","Test mode: Meeting access would be available here in production."):t("show-alert","error","Failed to get meeting link. Please try again.")}finally{r.value.delete(l.id)}}),loadingMeetingLinks:r,isTestModeActiveForBooking:$}}},Me={class:"space-y-4"},Ae={key:0,class:"text-center py-12"},Be={key:1,class:"space-y-4"},De={class:"card-body"},Te={class:"flex items-start justify-between"},ze={class:"flex-1"},Se={class:"flex items-center space-x-3 mb-3"},je={class:"text-lg font-medium text-gray-900"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600"},Ne={class:"flex items-center"},Ve={class:"font-medium"},Pe={class:"text-xs text-gray-500"},Je={key:0,class:"flex items-center"},Ue={class:"font-medium"},Ee={class:"text-xs text-gray-500"},$e={key:1,class:"flex items-center"},Fe={class:"font-medium"},Oe={class:"text-xs text-gray-500"},qe={key:2,class:"flex items-center"},Ie={class:"font-medium"},Re={key:0,class:"text-xs text-green-600"},Ge={key:3,class:"flex items-center"},Ke={key:4,class:"flex items-center"},We={class:"font-medium"},Qe={key:0,class:"text-xs text-gray-500"},Xe={key:5,class:"flex items-center"},Ye={class:"text-xs text-gray-500"},Ze={class:"flex items-center"},et={class:"font-medium"},tt={key:0,class:"mt-3 text-sm text-gray-600"},st={key:0,class:"mb-1"},ot={key:1,class:"mb-1"},nt={key:2,class:"mb-1"},it={key:0,class:"flex flex-col space-y-2 ml-4"},at=["onClick"],lt={key:0,class:"flex flex-col space-y-1"},rt=["onClick"],dt=["onClick"],ct={key:1,class:"flex flex-col space-y-1"},mt=["onClick"],ut=["onClick"],ft=["onClick","disabled"],gt={key:1,class:"flex flex-col space-y-2 ml-4"},vt=["onClick"],yt={key:0,class:"flex flex-col space-y-1"},xt=["onClick"],pt=["onClick"],_t=["onClick","disabled"];function bt(f,t,r,s,L,d){return n(),i("div",Me,[r.bookings.length?(n(),i("div",Be,[(n(!0),i(U,null,E(r.bookings,o=>(n(),i("div",{key:o.booking_id,class:"card hover:shadow-md transition-shadow duration-200"},[e("div",De,[e("div",Te,[e("div",ze,[e("div",Se,[e("h4",je,a(o.title||(o.host_first_name+" "+o.host_last_name).trim()||"Meeting"),1),e("span",{class:B([s.getStatusClass(o.status||o.booking_status),"badge"])},a(s.getStatusText(o.status||o.booking_status)),3)]),e("div",He,[e("div",Ne,[t[1]||(t[1]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",Ve,a(s.formatDate(o.meeting_dates)),1),e("div",Pe,a(o.start_time)+" - "+a(o.end_time),1)])]),o.duration?(n(),i("div",Je,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",Ue,a(o.duration)+" min",1),e("div",Ee,a(o.availability_time_zone||"UTC"),1)])])):m("",!0),s.getAttendeeName(o.attendees)?(n(),i("div",$e,[t[3]||(t[3]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",Fe,a(s.getAttendeeName(o.attendees)),1),e("div",Oe,a(s.getAttendeeEmail(o.attendees)),1)])])):m("",!0),s.formatLocation(o.meeting_locations)?(n(),i("div",qe,[t[4]||(t[4]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",Ie,a(s.formatLocation(o.meeting_locations)),1),o.meeting_locations&&s.hasJoinLink(o.meeting_locations)?(n(),i("div",Re," Join link available ")):m("",!0)])])):m("",!0),o.meeting_payment_status?(n(),i("div",Ge,[t[5]||(t[5]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),e("path",{"fill-rule":"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule":"evenodd"})],-1)),e("span",{class:B([s.getPaymentStatusClass(o.meeting_payment_status),"px-2 py-1 rounded-full text-xs font-medium"])},a(s.getPaymentStatusText(o.meeting_payment_status)),3)])):m("",!0),o.host_first_name||o.host_last_name?(n(),i("div",Ke,[t[6]||(t[6]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",We,"Host: "+a((o.host_first_name+" "+o.host_last_name).trim()),1),o.host_email?(n(),i("div",Qe,a(o.host_email),1)):m("",!0)])])):m("",!0),o.created_at?(n(),i("div",Xe,[t[8]||(t[8]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),e("div",null,[t[7]||(t[7]=e("div",{class:"font-medium"},"Booked",-1)),e("div",Ye,a(s.formatDate(o.created_at)),1)])])):m("",!0),e("div",Ze,[t[10]||(t[10]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)),e("div",null,[e("div",et,"ID: "+a(o.id),1),t[9]||(t[9]=e("div",{class:"text-xs text-gray-500"},"Booking reference",-1))])])]),o.notes||o.internal_note||o.attendee_comment?(n(),i("div",tt,[o.notes?(n(),i("div",st,[t[11]||(t[11]=e("span",{class:"font-medium"},"Notes:",-1)),z(" "+a(o.notes),1)])):m("",!0),o.internal_note?(n(),i("div",ot,[t[12]||(t[12]=e("span",{class:"font-medium"},"Internal Note:",-1)),z(" "+a(o.internal_note),1)])):m("",!0),o.attendee_comment?(n(),i("div",nt,[t[13]||(t[13]=e("span",{class:"font-medium"},"Attendee Comment:",-1)),z(" "+a(o.attendee_comment),1)])):m("",!0)])):m("",!0)]),r.showActions?(n(),i("div",it,[e("button",{onClick:g=>f.$emit("view-details",o.id),class:"btn-secondary text-xs"}," View Details ",8,at),o.status==="pending"?(n(),i("div",lt,[e("button",{onClick:g=>f.$emit("update-status",o.id,"confirmed"),class:"btn-success text-xs"}," Confirm ",8,rt),e("button",{onClick:g=>f.$emit("update-status",o.id,"cancelled"),class:"btn-danger text-xs"}," Cancel ",8,dt)])):o.status==="confirmed"?(n(),i("div",ct,[e("button",{onClick:g=>f.$emit("update-status",o.id,"completed"),class:"btn-success text-xs"}," Mark Complete ",8,mt),e("button",{onClick:g=>f.$emit("update-status",o.id,"cancelled"),class:"btn-danger text-xs"}," Cancel ",8,ut)])):m("",!0),s.canShowMeetingButton(o)?(n(),i("button",{key:2,onClick:g=>s.handleMeetingAction(o),class:B([s.getMeetingButtonClass(o),"text-xs"]),disabled:!s.isMeetingAvailable(o)&&!s.isTestModeActiveForBooking(o)},a(s.getMeetingButtonText(o,"host")),11,ft)):m("",!0)])):r.showAttendeeActions?(n(),i("div",gt,[e("button",{onClick:g=>f.$emit("view-details",o.id),class:"btn-secondary text-xs"}," View Details ",8,vt),o.status==="confirmed"&&s.canCancel(o)?(n(),i("div",yt,[e("button",{onClick:g=>f.$emit("cancel-booking",o.id),class:"btn-danger text-xs"}," Cancel ",8,xt),e("button",{onClick:g=>f.$emit("reschedule-booking",o.id),class:"btn-warning text-xs"}," Reschedule ",8,pt)])):m("",!0),s.canShowMeetingButton(o)?(n(),i("button",{key:1,onClick:g=>s.handleMeetingAction(o),class:B([s.getMeetingButtonClass(o),"text-xs"]),disabled:!s.isMeetingAvailable(o)&&!s.isTestModeActiveForBooking(o)},a(s.getMeetingButtonText(o,"attendee")),11,_t)):m("",!0)])):m("",!0)])])]))),128))])):(n(),i("div",Ae,t[0]||(t[0]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 4v10m6-10v10m-6 0h6"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No bookings found",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"No bookings match the current criteria.",-1)])))])}const ht=Y(Le,[["render",bt]]),kt={name:"JoinLinksList",props:{joinLinks:{type:Array,default:()=>[]}},emits:["copy-link","send-link","disable-link","enable-link","delete-link","test-host-link"],setup(){return{formatDateTime:Z,getLinkStatusClass:s=>({active:"badge-success",disabled:"badge-warning",expired:"badge-danger",pending:"badge-secondary"})[s]||"badge-secondary",getLinkStatusText:s=>({active:"Active",disabled:"Disabled",expired:"Expired",pending:"Pending"})[s]||s,testHostLink:s=>{s.join_url&&window.open(s.join_url,"_blank","noopener,noreferrer")}}}},wt={class:"space-y-4"},Ct={key:0,class:"text-center py-12"},Lt={key:1,class:"space-y-4"},Mt={class:"card-body"},At={class:"flex items-start justify-between"},Bt={class:"flex-1"},Dt={class:"flex items-center space-x-3 mb-3"},Tt={class:"text-lg font-medium text-gray-900"},zt={key:0,class:"badge badge-secondary"},St={class:"space-y-2 text-sm text-gray-600"},jt={class:"flex items-center"},Ht={class:"bg-gray-100 px-2 py-1 rounded text-xs font-mono"},Nt={key:0,class:"flex items-center"},Vt={key:1,class:"flex items-center"},Pt={key:2,class:"flex items-center"},Jt={key:3,class:"flex items-center"},Ut={key:4,class:"flex items-center"},Et={key:0},$t={key:0,class:"mt-3 text-sm text-gray-600"},Ft={class:"italic"},Ot={class:"flex flex-col space-y-2 ml-4"},qt=["onClick","disabled"],It=["onClick","disabled"],Rt=["onClick","disabled"],Gt=["onClick"],Kt=["onClick"],Wt=["onClick"],Qt={key:0,class:"mt-4 pt-4 border-t border-gray-200"},Xt={class:"space-y-1"};function Yt(f,t,r,s,L,d){return n(),i("div",wt,[r.joinLinks.length?(n(),i("div",Lt,[(n(!0),i(U,null,E(r.joinLinks,o=>(n(),i("div",{key:o.id,class:"card hover:shadow-md transition-shadow duration-200"},[e("div",Mt,[e("div",At,[e("div",Bt,[e("div",Dt,[e("h4",Tt,a(o.title||"Join Link"),1),e("span",{class:B([s.getLinkStatusClass(o.status),"badge"])},a(s.getLinkStatusText(o.status)),3),o.type?(n(),i("span",zt,a(o.type),1)):m("",!0)]),e("div",St,[e("div",jt,[t[1]||(t[1]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})],-1)),e("code",Ht,a(o.url),1)]),o.meeting_title?(n(),i("div",Nt,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),z(" "+a(o.meeting_title),1)])):m("",!0),o.meeting_date?(n(),i("div",Vt,[t[3]||(t[3]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),z(" "+a(s.formatDateTime(o.meeting_date)),1)])):m("",!0),o.created_at?(n(),i("div",Pt,[t[4]||(t[4]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),z(" Created "+a(s.formatDateTime(o.created_at)),1)])):m("",!0),o.expires_at?(n(),i("div",Jt,[t[5]||(t[5]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),z(" Expires "+a(s.formatDateTime(o.expires_at)),1)])):m("",!0),o.usage_count!==void 0?(n(),i("div",Ut,[t[6]||(t[6]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),z(" Used "+a(o.usage_count)+" time"+a(o.usage_count!==1?"s":"")+" ",1),o.max_uses?(n(),i("span",Et," (max "+a(o.max_uses)+")",1)):m("",!0)])):m("",!0)]),o.description?(n(),i("div",$t,[e("p",Ft,a(o.description),1)])):m("",!0)]),e("div",Ot,[e("button",{onClick:g=>f.$emit("copy-link",o.url),class:"btn-primary text-xs",disabled:o.status==="expired"||o.status==="disabled"},t[7]||(t[7]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),e("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})],-1),z(" Copy ",-1)]),8,qt),e("button",{onClick:g=>f.$emit("send-link",o.id),class:"btn-secondary text-xs",disabled:o.status==="expired"||o.status==="disabled"},t[8]||(t[8]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})],-1),z(" Send ",-1)]),8,It),e("button",{onClick:g=>f.$emit("test-host-link",o),class:"btn-success text-xs",disabled:o.status==="expired"||o.status==="disabled",title:"Test host meeting link (opens in new tab)"}," Test Host ",8,Rt),o.status==="active"?(n(),i("button",{key:0,onClick:g=>f.$emit("disable-link",o.id),class:"btn-warning text-xs"}," Disable ",8,Gt)):o.status==="disabled"?(n(),i("button",{key:1,onClick:g=>f.$emit("enable-link",o.id),class:"btn-success text-xs"}," Enable ",8,Kt)):m("",!0),e("button",{onClick:g=>f.$emit("delete-link",o.id),class:"btn-danger text-xs"}," Delete ",8,Wt)])]),o.usage_stats&&o.usage_stats.length?(n(),i("div",Qt,[t[9]||(t[9]=e("h5",{class:"text-sm font-medium text-gray-900 mb-2"},"Recent Usage",-1)),e("div",Xt,[(n(!0),i(U,null,E(o.usage_stats.slice(0,3),g=>(n(),i("div",{key:g.id,class:"flex justify-between text-xs text-gray-600"},[e("span",null,a(g.attendee_name||g.attendee_email),1),e("span",null,a(s.formatDateTime(g.used_at)),1)]))),128))])])):m("",!0)])]))),128))])):(n(),i("div",Ct,t[0]||(t[0]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No join links found",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Create your first join link to get started.",-1)])))])}const Zt=Y(kt,[["render",Yt]]),es={name:"BookingDetailsModal",props:{booking:{type:Object,default:null}},emits:["close","send-email"],setup(f,{emit:t}){return X(()=>f.booking,(v,u)=>{},{immediate:!0,deep:!0}),{formatDateTime:Z,formatDate:v=>v?new Date(v).toLocaleDateString():"N/A",formatTime:v=>v?new Date(v).toLocaleTimeString():"N/A",formatFieldName:v=>v.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()),getStatusClass:ue,getStatusText:me,copyJoinLink:v=>M(this,null,function*(){(yield fe(v))?(t("link-copied"),t("show-alert","success","Join link copied to clipboard")):t("show-alert","error","Failed to copy link")}),sendEmail:()=>{t("send-email",f.booking)},getAttendeeName:v=>!v||!Array.isArray(v)||v.length===0?"N/A":v[0].attendee_name||v[0].name||"N/A",getAttendeeEmail:v=>!v||!Array.isArray(v)||v.length===0?"N/A":v[0].email||"N/A",formatLocation:v=>{if(!v)return"N/A";try{const u=JSON.parse(v),T=Object.keys(u);return T.length===0?"N/A":u[T[0]].location||T[0]}catch(u){return v}}}}},ts={class:"modal-header"},ss={class:"modal-body"},os={key:0,class:"space-y-6"},ns={class:"bg-gray-50 p-4 rounded-lg"},is={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},as={class:"text-gray-700"},ls={class:"text-gray-700"},rs={class:"text-gray-700"},ds={class:"text-gray-700"},cs={class:"text-gray-700"},ms={key:0,class:"md:col-span-2"},us={class:"text-gray-700"},fs={class:"bg-blue-50 p-4 rounded-lg"},gs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vs={class:"text-gray-700"},ys={class:"text-gray-700"},xs={class:"text-gray-700"},ps={class:"text-gray-700"},_s={class:"text-gray-700"},bs={key:0,class:"md:col-span-2"},hs={class:"text-gray-700"},ks={class:"md:col-span-2"},ws={class:"text-gray-700"},Cs={key:0,class:"bg-green-50 p-4 rounded-lg"},Ls={class:"space-y-3"},Ms={class:"flex-1"},As={class:"flex items-center justify-between"},Bs={class:"text-sm font-medium text-gray-900"},Ds={class:"text-xs text-gray-500"},Ts={key:0,class:"text-sm text-gray-600 mt-1"},zs={key:1,class:"bg-purple-50 p-4 rounded-lg"},Ss={class:"bg-white px-3 py-2 rounded border text-sm font-mono"},js=["onClick"],Hs={key:2,class:"bg-yellow-50 p-4 rounded-lg"},Ns={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vs={class:"form-label"},Ps={class:"text-gray-700"},Js={key:1,class:"text-center py-8"},Us={class:"modal-footer"};function Es(f,t,r,s,L,d){var o,g,h,D,v,u,T,V,H,F,y,P,l,_,b,x,J,W,ee,te,se,oe;return n(),i("div",{class:"modal-overlay",onClick:t[4]||(t[4]=A=>f.$emit("close"))},[e("div",{class:"modal-content",onClick:t[3]||(t[3]=de(()=>{},["stop"]))},[e("div",ts,[t[6]||(t[6]=e("h3",{class:"modal-title"},"Booking Details",-1)),e("button",{onClick:t[0]||(t[0]=A=>f.$emit("close")),class:"modal-close"},t[5]||(t[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ss,[r.booking?(n(),i("div",os,[e("div",ns,[t[14]||(t[14]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Meeting Details",-1)),e("div",is,[e("div",null,[t[7]||(t[7]=e("label",{class:"form-label"},"Meeting Title",-1)),e("p",as,a(((o=r.booking.data)==null?void 0:o.meeting_title)||"N/A"),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"form-label"},"Date",-1)),e("p",ls,a(((g=r.booking.data)==null?void 0:g.meeting_dates)||"N/A"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"form-label"},"Time",-1)),e("p",rs,a(((h=r.booking.data)==null?void 0:h.start_time)||"N/A")+" - "+a(((D=r.booking.data)==null?void 0:D.end_time)||"N/A"),1)]),e("div",null,[t[10]||(t[10]=e("label",{class:"form-label"},"Duration",-1)),e("p",ds,a(((v=r.booking.data)==null?void 0:v.duration)||"N/A")+" minutes",1)]),e("div",null,[t[11]||(t[11]=e("label",{class:"form-label"},"Booking Type",-1)),e("p",cs,a(((u=r.booking.data)==null?void 0:u.booking_type)||"N/A"),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"form-label"},"Status",-1)),e("span",{class:B([s.getStatusClass((T=r.booking.data)==null?void 0:T.status),"badge"])},a(s.getStatusText((V=r.booking.data)==null?void 0:V.status)||((H=r.booking.data)==null?void 0:H.status)||"N/A"),3)]),(F=r.booking.data)!=null&&F.internal_note?(n(),i("div",ms,[t[13]||(t[13]=e("label",{class:"form-label"},"Internal Note",-1)),e("p",us,a(r.booking.data.internal_note),1)])):m("",!0)])]),e("div",fs,[t[22]||(t[22]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Attendee Details",-1)),e("div",gs,[e("div",null,[t[15]||(t[15]=e("label",{class:"form-label"},"Name",-1)),e("p",vs,a(s.getAttendeeName((y=r.booking.data)==null?void 0:y.attendees)||"N/A"),1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"form-label"},"Email",-1)),e("p",ys,a(s.getAttendeeEmail((P=r.booking.data)==null?void 0:P.attendees)||"N/A"),1)]),e("div",null,[t[17]||(t[17]=e("label",{class:"form-label"},"Attendee ID",-1)),e("p",xs,a(((l=r.booking.data)==null?void 0:l.attendee_id)||"N/A"),1)]),e("div",null,[t[18]||(t[18]=e("label",{class:"form-label"},"Booking ID",-1)),e("p",ps,a(((_=r.booking.data)==null?void 0:_.id)||((b=r.booking.data)==null?void 0:b.booking_id)||"N/A"),1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"form-label"},"Created At",-1)),e("p",_s,a(s.formatDateTime((x=r.booking.data)==null?void 0:x.created_at)||"N/A"),1)]),(J=r.booking.data)!=null&&J.attendee_comment?(n(),i("div",bs,[t[20]||(t[20]=e("label",{class:"form-label"},"Comment",-1)),e("p",hs,a(r.booking.data.attendee_comment),1)])):m("",!0),e("div",ks,[t[21]||(t[21]=e("label",{class:"form-label"},"Booked At",-1)),e("p",ws,a(s.formatDateTime((W=r.booking.data)==null?void 0:W.created_at)),1)])])]),(ee=r.booking.data)!=null&&ee.activity&&r.booking.data.activity.length?(n(),i("div",Cs,[t[24]||(t[24]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Activity Details",-1)),e("div",Ls,[(n(!0),i(U,null,E(r.booking.data.activity,A=>(n(),i("div",{key:A.id,class:"flex items-start space-x-3 p-3 bg-white rounded border"},[t[23]||(t[23]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mt-2"})],-1)),e("div",Ms,[e("div",As,[e("p",Bs,a(A.action),1),e("p",Ds,a(s.formatDateTime(A.created_at)),1)]),A.description?(n(),i("p",Ts,a(A.description),1)):m("",!0)])]))),128))])])):m("",!0),(te=r.booking.data)!=null&&te.join_links&&r.booking.data.join_links.length>0?(n(),i("div",zs,[t[26]||(t[26]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Join Links",-1)),(n(!0),i(U,null,E(r.booking.data.join_links,(A,I)=>(n(),i("div",{key:I,class:"flex items-center justify-between mb-2"},[e("code",Ss,a(A),1),e("button",{onClick:ge=>s.copyJoinLink(A),class:"btn-primary ml-3"},t[25]||(t[25]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),e("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})],-1),z(" Copy Link ",-1)]),8,js)]))),128))])):m("",!0),(se=r.booking.data)!=null&&se.custom_fields&&Object.keys(r.booking.data.custom_fields).length?(n(),i("div",Hs,[t[27]||(t[27]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Additional Information",-1)),e("div",Ns,[(n(!0),i(U,null,E(r.booking.data.custom_fields,(A,I)=>(n(),i("div",{key:I,class:"space-y-1"},[e("label",Vs,a(s.formatFieldName(I)),1),e("p",Ps,a(A||"N/A"),1)]))),128))])])):m("",!0)])):(n(),i("div",Js,t[28]||(t[28]=[e("div",{class:"loading-spinner mx-auto mb-4"},null,-1),e("p",{class:"text-gray-600"},"Loading booking details...",-1)])))]),e("div",Us,[e("button",{onClick:t[1]||(t[1]=A=>f.$emit("close")),class:"btn-secondary"}," Close "),r.booking&&s.getAttendeeEmail((oe=r.booking.data)==null?void 0:oe.attendees)?(n(),i("button",{key:0,onClick:t[2]||(t[2]=(...A)=>s.sendEmail&&s.sendEmail(...A)),class:"btn-primary"}," Send Email ")):m("",!0)])])])}const $s=Y(es,[["render",Es]]),Fs={name:"JoinLinkModal",emits:["close","save"],setup(f,{emit:t}){const r=xe("toast"),s=j(!1),L=j([]),d=K({meeting_id:"",link_type:"one-time",max_uses:1,custom_url:"",expiration_type:"after_meeting",expiration_date:"",expiration_time:"",description:"",require_password:!1,password:"",waiting_room:!1,host_approval:!1}),o=K({}),g=K({show:!1,type:"",message:""}),h=ye(()=>window.location.origin),D=ye(()=>new Date().toISOString().split("T")[0]),v=(y,P)=>{r?r.showAlert(y,P):(g.show=!0,g.type=`alert-${y}`,g.message=P,setTimeout(()=>{g.show=!1},5e3))},u=()=>M(this,null,function*(){try{const y=yield N.getBookings("upcoming");L.value=y.bookings||[]}catch(y){v("error","Failed to load available meetings")}}),T=()=>{d.custom_url=""},V=()=>{d.custom_url&&(d.custom_url=d.custom_url.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-|-$/g,""))},H=()=>(Object.keys(o).forEach(y=>delete o[y]),d.meeting_id||(o.meeting_id="Please select a meeting"),d.link_type||(o.link_type="Please select a link type"),d.link_type==="limited"&&(!d.max_uses||d.max_uses<1)&&(o.max_uses="Maximum uses must be at least 1"),d.custom_url&&(d.custom_url.length<3?o.custom_url="Custom URL must be at least 3 characters":d.custom_url.length>50&&(o.custom_url="Custom URL must be less than 50 characters")),d.expiration_type==="custom"&&(d.expiration_date||(o.expiration_date="Expiration date is required"),d.expiration_time||(o.expiration_time="Expiration time is required"),d.expiration_date&&d.expiration_time&&new Date(`${d.expiration_date}T${d.expiration_time}`)<=new Date&&(o.expiration_date="Expiration must be in the future")),d.require_password&&!d.password&&(o.password="Password is required when password protection is enabled"),Object.keys(o).length===0),F=()=>M(this,null,function*(){if(!H()){v("error","Please fix the errors below");return}s.value=!0;try{const y={meeting_id:d.meeting_id,link_type:d.link_type,max_uses:d.link_type==="limited"?d.max_uses:null,custom_url:d.custom_url||null,expiration_type:d.expiration_type,expiration_date:d.expiration_type==="custom"?d.expiration_date:null,expiration_time:d.expiration_type==="custom"?d.expiration_time:null,description:d.description||null,require_password:d.require_password,password:d.require_password?d.password:null,waiting_room:d.waiting_room,host_approval:d.host_approval};t("save",y)}catch(y){v("error","Failed to generate join link")}finally{s.value=!1}});return X(()=>d.link_type,y=>{y!=="limited"&&(d.max_uses=1)}),X(()=>d.require_password,y=>{y||(d.password="")}),pe(u),{isSubmitting:s,availableMeetings:L,form:d,errors:o,alert:g,baseUrl:h,minExpirationDate:D,showAlert:v,loadAvailableMeetings:u,onMeetingChange:T,validateCustomUrl:V,validateForm:H,handleSubmit:F,formatDateTime:Z}}},Os={class:"modal-header"},qs={class:"modal-body"},Is={class:"space-y-6"},Rs=["value"],Gs={key:0,class:"form-error"},Ks={class:"space-y-2"},Ws={class:"flex items-center"},Qs={class:"flex items-center"},Xs={class:"flex items-center"},Ys={key:0,class:"form-error"},Zs={key:0},eo={key:0,class:"form-error"},to={class:"flex"},so={class:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"},oo={key:0,class:"form-error"},no={class:"space-y-2"},io={class:"flex items-center"},ao={class:"flex items-center"},lo={class:"flex items-center"},ro={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},co=["min"],mo={key:0,class:"form-error"},uo={key:0,class:"form-error"},fo={key:0,class:"form-error"},go={class:"border-t pt-4"},vo={class:"space-y-2"},yo={class:"flex items-center"},xo={class:"flex items-center"},po={class:"flex items-center"},_o={key:2},bo={key:0,class:"form-error"},ho={class:"modal-footer"},ko=["disabled"],wo={key:0,class:"loading-spinner-sm mr-2"};function Co(f,t,r,s,L,d){return n(),i("div",{class:"modal-overlay",onClick:t[22]||(t[22]=o=>f.$emit("close"))},[e("div",{class:"modal-content",onClick:t[21]||(t[21]=de(()=>{},["stop"]))},[e("div",Os,[t[24]||(t[24]=e("h3",{class:"modal-title"},"Generate Join Link",-1)),e("button",{onClick:t[0]||(t[0]=o=>f.$emit("close")),class:"modal-close"},t[23]||(t[23]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:t[20]||(t[20]=de((...o)=>s.handleSubmit&&s.handleSubmit(...o),["prevent"]))},[e("div",qs,[s.alert.show?(n(),i("div",{key:0,class:B([s.alert.type,"mb-4"])},a(s.alert.message),3)):m("",!0),e("div",Is,[e("div",null,[t[26]||(t[26]=e("label",{for:"meeting_id",class:"form-label"},"Select Meeting *",-1)),C(e("select",{id:"meeting_id","onUpdate:modelValue":t[1]||(t[1]=o=>s.form.meeting_id=o),class:B(["form-input",{"border-red-500":s.errors.meeting_id}]),required:"",onChange:t[2]||(t[2]=(...o)=>s.onMeetingChange&&s.onMeetingChange(...o))},[t[25]||(t[25]=e("option",{value:""},"Choose a meeting",-1)),(n(!0),i(U,null,E(s.availableMeetings,o=>(n(),i("option",{key:o.id,value:o.id},a(o.title)+" - "+a(s.formatDateTime(o.date_time)),9,Rs))),128))],34),[[he,s.form.meeting_id]]),s.errors.meeting_id?(n(),i("p",Gs,a(s.errors.meeting_id),1)):m("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"form-label"},"Link Type *",-1)),e("div",Ks,[e("label",Ws,[C(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.form.link_type=o),type:"radio",value:"one-time",class:"form-radio"},null,512),[[R,s.form.link_type]]),t[27]||(t[27]=e("span",{class:"ml-2"},[e("span",{class:"font-medium"},"One-time Link"),e("span",{class:"block text-sm text-gray-500"},"Can only be used once")],-1))]),e("label",Qs,[C(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.form.link_type=o),type:"radio",value:"reusable",class:"form-radio"},null,512),[[R,s.form.link_type]]),t[28]||(t[28]=e("span",{class:"ml-2"},[e("span",{class:"font-medium"},"Reusable Link"),e("span",{class:"block text-sm text-gray-500"},"Can be used multiple times")],-1))]),e("label",Xs,[C(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.form.link_type=o),type:"radio",value:"limited",class:"form-radio"},null,512),[[R,s.form.link_type]]),t[29]||(t[29]=e("span",{class:"ml-2"},[e("span",{class:"font-medium"},"Limited Use Link"),e("span",{class:"block text-sm text-gray-500"},"Can be used a specific number of times")],-1))])]),s.errors.link_type?(n(),i("p",Ys,a(s.errors.link_type),1)):m("",!0)]),s.form.link_type==="limited"?(n(),i("div",Zs,[t[31]||(t[31]=e("label",{for:"max_uses",class:"form-label"},"Maximum Uses *",-1)),C(e("input",{id:"max_uses","onUpdate:modelValue":t[6]||(t[6]=o=>s.form.max_uses=o),type:"number",min:"1",max:"100",class:B(["form-input",{"border-red-500":s.errors.max_uses}]),required:""},null,2),[[G,s.form.max_uses,void 0,{number:!0}]]),s.errors.max_uses?(n(),i("p",eo,a(s.errors.max_uses),1)):m("",!0)])):m("",!0),e("div",null,[t[32]||(t[32]=e("label",{for:"custom_url",class:"form-label"},"Custom URL (Optional)",-1)),e("div",to,[e("span",so,a(s.baseUrl)+"/join/ ",1),C(e("input",{id:"custom_url","onUpdate:modelValue":t[7]||(t[7]=o=>s.form.custom_url=o),type:"text",class:B(["form-input rounded-l-none",{"border-red-500":s.errors.custom_url}]),placeholder:"my-meeting-link",onInput:t[8]||(t[8]=(...o)=>s.validateCustomUrl&&s.validateCustomUrl(...o))},null,34),[[G,s.form.custom_url]])]),t[33]||(t[33]=e("p",{class:"text-sm text-gray-500 mt-1"}," Leave blank to generate a random URL ",-1)),s.errors.custom_url?(n(),i("p",oo,a(s.errors.custom_url),1)):m("",!0)]),e("div",null,[t[37]||(t[37]=e("label",{class:"form-label"},"Link Expiration",-1)),e("div",no,[e("label",io,[C(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>s.form.expiration_type=o),type:"radio",value:"never",class:"form-radio"},null,512),[[R,s.form.expiration_type]]),t[34]||(t[34]=e("span",{class:"ml-2"},"Never expires",-1))]),e("label",ao,[C(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.form.expiration_type=o),type:"radio",value:"after_meeting",class:"form-radio"},null,512),[[R,s.form.expiration_type]]),t[35]||(t[35]=e("span",{class:"ml-2"},"Expires after meeting ends",-1))]),e("label",lo,[C(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.form.expiration_type=o),type:"radio",value:"custom",class:"form-radio"},null,512),[[R,s.form.expiration_type]]),t[36]||(t[36]=e("span",{class:"ml-2"},"Custom expiration date",-1))])])]),s.form.expiration_type==="custom"?(n(),i("div",ro,[e("div",null,[t[38]||(t[38]=e("label",{for:"expiration_date",class:"form-label"},"Expiration Date *",-1)),C(e("input",{id:"expiration_date","onUpdate:modelValue":t[12]||(t[12]=o=>s.form.expiration_date=o),type:"date",class:B(["form-input",{"border-red-500":s.errors.expiration_date}]),min:s.minExpirationDate,required:""},null,10,co),[[G,s.form.expiration_date]]),s.errors.expiration_date?(n(),i("p",mo,a(s.errors.expiration_date),1)):m("",!0)]),e("div",null,[t[39]||(t[39]=e("label",{for:"expiration_time",class:"form-label"},"Expiration Time *",-1)),C(e("input",{id:"expiration_time","onUpdate:modelValue":t[13]||(t[13]=o=>s.form.expiration_time=o),type:"time",class:B(["form-input",{"border-red-500":s.errors.expiration_time}]),required:""},null,2),[[G,s.form.expiration_time]]),s.errors.expiration_time?(n(),i("p",uo,a(s.errors.expiration_time),1)):m("",!0)])])):m("",!0),e("div",null,[t[40]||(t[40]=e("label",{for:"description",class:"form-label"},"Description (Optional)",-1)),C(e("textarea",{id:"description","onUpdate:modelValue":t[14]||(t[14]=o=>s.form.description=o),rows:"3",class:B(["form-input",{"border-red-500":s.errors.description}]),placeholder:"Add a description for this join link..."},null,2),[[G,s.form.description]]),s.errors.description?(n(),i("p",fo,a(s.errors.description),1)):m("",!0)]),e("div",go,[t[44]||(t[44]=e("h4",{class:"text-lg font-medium text-gray-900 mb-3"},"Security Options",-1)),e("div",vo,[e("label",yo,[C(e("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>s.form.require_password=o),type:"checkbox",class:"form-checkbox"},null,512),[[ae,s.form.require_password]]),t[41]||(t[41]=e("span",{class:"ml-2 text-sm text-gray-700"},"Require password to join",-1))]),e("label",xo,[C(e("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>s.form.waiting_room=o),type:"checkbox",class:"form-checkbox"},null,512),[[ae,s.form.waiting_room]]),t[42]||(t[42]=e("span",{class:"ml-2 text-sm text-gray-700"},"Enable waiting room",-1))]),e("label",po,[C(e("input",{"onUpdate:modelValue":t[17]||(t[17]=o=>s.form.host_approval=o),type:"checkbox",class:"form-checkbox"},null,512),[[ae,s.form.host_approval]]),t[43]||(t[43]=e("span",{class:"ml-2 text-sm text-gray-700"},"Require host approval to join",-1))])])]),s.form.require_password?(n(),i("div",_o,[t[45]||(t[45]=e("label",{for:"password",class:"form-label"},"Meeting Password *",-1)),C(e("input",{id:"password","onUpdate:modelValue":t[18]||(t[18]=o=>s.form.password=o),type:"password",class:B(["form-input",{"border-red-500":s.errors.password}]),required:""},null,2),[[G,s.form.password]]),s.errors.password?(n(),i("p",bo,a(s.errors.password),1)):m("",!0)])):m("",!0)])]),e("div",ho,[e("button",{type:"button",onClick:t[19]||(t[19]=o=>f.$emit("close")),class:"btn-secondary"}," Cancel "),e("button",{type:"submit",class:"btn-primary",disabled:s.isSubmitting},[s.isSubmitting?(n(),i("div",wo)):m("",!0),z(" "+a(s.isSubmitting?"Generating...":"Generate Link"),1)],8,ko)])],32)])])}const Lo=Y(Fs,[["render",Co]]),Mo={name:"HostDashboard",components:{BookingsList:ht,JoinLinksList:Zt,BookingDetailsModal:$s,JoinLinkModal:Lo,ProfileModal:ke},setup(){var ve;const f=xe("toast"),t=j(!1),r=j("bookings"),s=j([]),L=j([]),d=K({}),o=K({}),g=K({show:!1,type:"",message:""}),h=j("upcoming"),D=j(((ve=window.hbcHostData)==null?void 0:ve.logoutUrl)||"/wp-login.php?action=logout"),v=j(!1),u=j(!1),T=j(!1),V=j(null),H=[{id:"bookings",name:"Bookings"},{id:"join-links",name:"Join Links"},{id:"profile",name:"Profile"}],F=[{id:"upcoming",name:"Upcoming",icon:"calendar"},{id:"today",name:"Today",icon:"clock"},{id:"completed",name:"Completed",icon:"check"},{id:"cancelled",name:"Cancelled",icon:"x"},{id:"history",name:"All History",icon:"archive"}],y=(c,p)=>{f?f.showAlert(c,p):(g.show=!0,g.type=`alert-${c}`,g.message=p,setTimeout(()=>{g.show=!1},5e3))},P=()=>{g.show=!1},l=(c="upcoming")=>M(this,null,function*(){try{t.value=!0;let p=c;(c==="history"||c==="completed"||c==="cancelled")&&(p="past");const w=yield N.getBookings(p);let k=w&&w.bookings&&Array.isArray(w.bookings)?w.bookings:[];const O=new Date().toISOString().split("T")[0],zn=new Date;c==="today"?k=k.filter(S=>S.meeting_dates===O&&(S.status==="confirmed"||S.status==="pending")):c==="upcoming"?k=k.filter(S=>{const ie=S.meeting_dates,Sn=new Date(ie+" "+(S.start_time||"00:00:00"));return ie>O&&(S.status==="confirmed"||S.status==="pending")}):c==="completed"?k=k.filter(S=>S.status==="completed"):c==="cancelled"&&(k=k.filter(S=>S.status==="cancelled"||S.status==="canceled")),s.value=k}catch(p){console.error("Bookings load error:",p),y("error",q(p))}finally{t.value=!1}}),_=()=>M(this,null,function*(){try{const c=yield N.getJoinLinks();L.value=c.join_links||(Array.isArray(c)?c:[])}catch(c){console.error("Join links load error:",c),y("error",q(c))}}),b=()=>M(this,null,function*(){try{const c=yield N.getProfile();if(c&&c.profile){const p=c.profile,w=p.host_data||{};Object.assign(d,{first_name:p.first_name||w.first_name||"",last_name:p.last_name||w.last_name||"",email:p.email||w.email||"",display_name:p.display_name||"",phone:w.phone_number||"",bio:p.description||w.about||"",timezone:w.time_zone||"",avatar:w.avatar||"",featured_image:w.featured_image||"",status:w.status||"",availability_type:w.availability_type||"",availability_id:w.availability_id||""})}}catch(c){console.error("Profile load error:",c),y("error",q(c))}}),x=()=>M(this,null,function*(){try{const c=yield N.getStats();Object.assign(o,c||{})}catch(c){console.error("Failed to load stats:",c),y("error","Failed to load statistics")}}),J=(c,p)=>M(this,null,function*(){try{t.value=!0,yield N.updateBookingStatus(c,p),y("success",`Booking ${p} successfully`),yield l(r.value),yield x()}catch(w){y("error",q(w))}finally{t.value=!1}}),W=c=>M(this,null,function*(){var p,w;try{const k=yield N.getBookingDetails(c);let O=null;k&&k.data?O=k.data:k&&k.booking?O=k.booking:k&&(O=k),V.value=O,v.value=!0}catch(k){console.error("Error fetching booking details:",k),y("error","Error fetching booking details: "+(((w=(p=k.response)==null?void 0:p.data)==null?void 0:w.message)||k.message))}}),ee=()=>{u.value=!0},te=c=>M(this,null,function*(){try{t.value=!0,yield N.generateJoinLink(c.meetingId,c.linkType,c.customUrl),u.value=!1,y("success","Join link generated successfully"),yield _(),yield x()}catch(p){y("error",q(p))}finally{t.value=!1}}),se=c=>M(this,null,function*(){try{t.value=!0,yield N.sendJoinLink(c),y("success","Join link sent to attendees")}catch(p){y("error",q(p))}finally{t.value=!1}}),oe=c=>M(this,null,function*(){(yield fe(c))?y("success","Join link copied to clipboard"):y("error","Failed to copy link")}),A=()=>{T.value=!0},I=c=>M(this,null,function*(){try{t.value=!0,yield N.updateProfile(c),Object.assign(d,c),T.value=!1,y("success","Profile updated successfully")}catch(p){y("error",q(p))}finally{t.value=!1}}),ge=()=>M(this,null,function*(){t.value=!0;try{yield Promise.all([l(h.value),_(),b(),x()])}catch(c){y("error","Failed to load dashboard data")}finally{t.value=!1}});X(r,c=>{c==="bookings"?l(h.value):c==="join-links"&&_()}),X(h,c=>{r.value==="bookings"&&l(c)});const _e=()=>M(this,null,function*(){if(confirm("Are you sure you want to logout?"))try{const p=yield(yield fetch(window.hbcHostData.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`action=hbc_logout&nonce=${window.hbcHostData.logoutNonce}`})).json();p.success?window.location.href=p.data.login_url:y("error","Logout failed. Please try again.")}catch(c){console.error("Error:",c),y("error","Logout failed. Please try again.")}});return pe(ge),{isLoading:t,activeTab:r,activeFilter:h,bookings:s,joinLinks:L,profile:d,stats:o,alert:g,showBookingModal:v,showJoinLinkModal:u,showProfileModal:T,selectedBooking:V,tabs:H,filters:F,logoutUrl:D,showAlert:y,clearAlert:P,loadBookings:l,updateBookingStatus:J,viewBookingDetails:W,openJoinLinkModal:ee,generateJoinLink:te,sendJoinLink:se,copyJoinLink:oe,openProfileModal:A,updateProfile:I,handleLogout:_e,formatDateTime:Z,getStatusClass:ue,getStatusText:me}}},Ao={class:"min-h-screen bg-gray-50 py-8"},Bo={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Do={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},To={class:"mb-8 hbc-dashboard-header"},zo={class:"hbc-header-content"},So={class:"hbc-header-actions"},jo={class:"flex justify-between items-center"},Ho={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},No={class:"card"},Vo={class:"card-body"},Po={class:"flex items-center"},Jo={class:"ml-4"},Uo={class:"text-2xl font-semibold text-gray-900"},Eo={class:"card"},$o={class:"card-body"},Fo={class:"flex items-center"},Oo={class:"ml-4"},qo={class:"text-2xl font-semibold text-gray-900"},Io={class:"card"},Ro={class:"card-body"},Go={class:"flex items-center"},Ko={class:"ml-4"},Wo={class:"text-2xl font-semibold text-gray-900"},Qo={class:"card"},Xo={class:"card-body"},Yo={class:"flex items-center"},Zo={class:"ml-4"},en={class:"text-2xl font-semibold text-gray-900"},tn={class:"tab-nav mb-6"},sn={class:"flex space-x-8"},on=["onClick"],nn={class:"bg-white rounded-lg shadow"},an={class:"p-6"},ln={class:"flex justify-between items-center mb-6"},rn={class:"flex flex-wrap gap-2 mb-6"},dn=["onClick"],cn={key:0,class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},mn={key:1,class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},un={key:2,class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},fn={key:3,class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},gn={key:4,class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},vn={class:"p-6"},yn={class:"flex justify-between items-center mb-6"},xn={class:"p-6"},pn={class:"flex justify-between items-center mb-6"},_n={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},bn={class:"text-gray-700"},hn={class:"text-gray-700"},kn={class:"text-gray-700"},wn={class:"text-gray-700"},Cn={class:"md:col-span-2"},Ln={class:"text-gray-700"},Mn={class:"text-gray-700"},An={class:"p-6"},Bn={class:"flex justify-between items-center mb-6"};function Dn(f,t,r,s,L,d){const o=Q("BookingsList"),g=Q("JoinLinksList"),h=Q("BookingDetailsModal"),D=Q("JoinLinkModal"),v=Q("ProfileModal");return n(),i("div",Ao,[s.isLoading?(n(),i("div",Bo,t[9]||(t[9]=[e("div",{class:"bg-white p-6 rounded-lg shadow-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"loading-spinner"}),e("span",{class:"text-gray-700"},"Loading...")])],-1)]))):m("",!0),e("div",Do,[e("div",To,[e("div",zo,[t[10]||(t[10]=e("div",{class:"hbc-header-text"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Host Dashboard"),e("p",{class:"mt-2 text-gray-600"},"Manage your meetings, bookings, and join links")],-1)),e("div",So,[e("button",{onClick:t[0]||(t[0]=(...u)=>s.handleLogout&&s.handleLogout(...u)),class:"hbc-logout-btn"},"Logout")])])]),s.alert.show?(n(),i("div",{key:0,class:B([s.alert.type,"mb-6 animate-fade-in"])},[e("div",jo,[e("span",null,a(s.alert.message),1),e("button",{onClick:t[1]||(t[1]=(...u)=>s.clearAlert&&s.clearAlert(...u)),class:"text-lg leading-none hover:opacity-75"},"×")])],2)):m("",!0),e("div",Ho,[e("div",No,[e("div",Vo,[e("div",Po,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])])],-1)),e("div",Jo,[e("p",Uo,a(s.stats.today_meetings||0),1),t[11]||(t[11]=e("p",{class:"text-sm text-gray-600"},"Today's Meetings",-1))])])])]),e("div",Eo,[e("div",$o,[e("div",Fo,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-warning-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-warning-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])])],-1)),e("div",Oo,[e("p",qo,a(s.stats.upcoming_meetings||0),1),t[13]||(t[13]=e("p",{class:"text-sm text-gray-600"},"Upcoming",-1))])])])]),e("div",Io,[e("div",Ro,[e("div",Go,[t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-success-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])],-1)),e("div",Ko,[e("p",Wo,a(s.stats.completed_meetings||0),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-600"},"Completed",-1))])])])]),e("div",Qo,[e("div",Xo,[e("div",Yo,[t[18]||(t[18]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"})])])],-1)),e("div",Zo,[e("p",en,a(s.stats.active_join_links||0),1),t[17]||(t[17]=e("p",{class:"text-sm text-gray-600"},"Active Links",-1))])])])])]),e("div",tn,[e("nav",sn,[(n(!0),i(U,null,E(s.tabs,u=>(n(),i("button",{key:u.id,onClick:T=>s.activeTab=u.id,class:B(["py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200",s.activeTab===u.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},a(u.name),11,on))),128))])]),e("div",nn,[C(e("div",an,[e("div",ln,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900"},"Bookings",-1)),e("button",{onClick:t[2]||(t[2]=u=>s.loadBookings(s.activeFilter)),class:"btn-primary"},t[19]||(t[19]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),z(" Refresh ",-1)]))]),e("div",rn,[(n(!0),i(U,null,E(s.filters,u=>(n(),i("button",{key:u.id,onClick:T=>s.activeFilter=u.id,class:B(["inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200",s.activeFilter===u.id?"bg-primary-100 text-primary-700 border border-primary-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"])},[u.icon==="calendar"?(n(),i("svg",cn,t[21]||(t[21]=[e("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"},null,-1)]))):u.icon==="clock"?(n(),i("svg",mn,t[22]||(t[22]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)]))):u.icon==="check"?(n(),i("svg",un,t[23]||(t[23]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):u.icon==="x"?(n(),i("svg",fn,t[24]||(t[24]=[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))):u.icon==="archive"?(n(),i("svg",gn,t[25]||(t[25]=[e("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"},null,-1),e("path",{"fill-rule":"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z","clip-rule":"evenodd"},null,-1)]))):m("",!0),z(" "+a(u.name),1)],10,dn))),128))]),re(o,{bookings:s.bookings,"show-actions":!0,onUpdateStatus:s.updateBookingStatus,onViewDetails:s.viewBookingDetails},null,8,["bookings","onUpdateStatus","onViewDetails"])],512),[[ne,s.activeTab==="bookings"]]),C(e("div",vn,[e("div",yn,[t[26]||(t[26]=e("h3",{class:"text-lg font-medium text-gray-900"},"Join Links Management",-1)),e("button",{onClick:t[3]||(t[3]=(...u)=>s.openJoinLinkModal&&s.openJoinLinkModal(...u)),class:"btn-primary"}," Generate New Link ")]),re(g,{"join-links":s.joinLinks,onSendLink:s.sendJoinLink,onCopyLink:s.copyJoinLink},null,8,["join-links","onSendLink","onCopyLink"])],512),[[ne,s.activeTab==="join-links"]]),C(e("div",xn,[e("div",pn,[t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-gray-900"},"Profile Settings",-1)),e("button",{onClick:t[4]||(t[4]=(...u)=>s.openProfileModal&&s.openProfileModal(...u)),class:"btn-primary"},t[27]||(t[27]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),z(" Edit Profile ",-1)]))]),e("div",_n,[e("div",null,[t[29]||(t[29]=e("label",{class:"form-label"},"First Name",-1)),e("p",bn,a(s.profile.first_name||"Not set"),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"form-label"},"Last Name",-1)),e("p",hn,a(s.profile.last_name||"Not set"),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"form-label"},"Email",-1)),e("p",kn,a(s.profile.email||"Not set"),1)]),e("div",null,[t[32]||(t[32]=e("label",{class:"form-label"},"Phone",-1)),e("p",wn,a(s.profile.phone||"Not set"),1)]),e("div",Cn,[t[33]||(t[33]=e("label",{class:"form-label"},"Bio",-1)),e("p",Ln,a(s.profile.bio||"Not set"),1)]),e("div",null,[t[34]||(t[34]=e("label",{class:"form-label"},"Timezone",-1)),e("p",Mn,a(s.profile.timezone||"Not set"),1)])])],512),[[ne,s.activeTab==="profile"]]),C(e("div",An,[e("div",Bn,[t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900"},"Meeting History",-1)),e("button",{onClick:t[5]||(t[5]=u=>s.loadBookings("history")),class:"btn-primary"},t[35]||(t[35]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),z(" Refresh ",-1)]))]),re(o,{bookings:s.bookings,"show-actions":!1},null,8,["bookings"])],512),[[ne,s.activeTab==="history"]])])]),s.showBookingModal?(n(),le(h,{key:1,booking:s.selectedBooking,onClose:t[6]||(t[6]=u=>s.showBookingModal=!1)},null,8,["booking"])):m("",!0),s.showJoinLinkModal?(n(),le(D,{key:2,onClose:t[7]||(t[7]=u=>s.showJoinLinkModal=!1),onSave:s.generateJoinLink},null,8,["onSave"])):m("",!0),s.showProfileModal?(n(),le(v,{key:3,profile:s.profile,onClose:t[8]||(t[8]=u=>s.showProfileModal=!1),onSave:s.updateProfile},null,8,["profile","onSave"])):m("",!0)])}const Tn=Y(Mo,[["render",Dn]]);function ce(){const f=document.getElementById("host-dashboard-app");if(f&&!f.__vue_app__)try{const t=we(Tn);t.use(Ce),t.config.errorHandler=(s,L,d)=>{console.error("Vue Host Dashboard error:",s,d),f.innerHTML=`
          <div style="padding: 20px; background: #fee; border: 1px solid #fcc; border-radius: 4px; color: #c33;">
            <h3>Dashboard Error</h3>
            <p>There was an error loading the dashboard. Please refresh the page or contact support.</p>
            <details style="margin-top: 10px;">
              <summary>Error Details</summary>
              <pre style="margin-top: 10px; font-size: 12px;">${s.message}</pre>
            </details>
          </div>
        `},t.mount(f),f.__vue_app__=t,f.style.display="block";const r=document.getElementById("hbc-loading-state");r&&(r.style.display="none")}catch(t){console.error("Failed to mount Host Dashboard:",t),f.innerHTML=`
        <div style="padding: 20px; background: #fee; border: 1px solid #fcc; border-radius: 4px; color: #c33;">
          <h3>Dashboard Unavailable</h3>
          <p>The dashboard could not be loaded. Please refresh the page or contact support.</p>
          <button onclick="location.reload()" style="margin-top: 10px; padding: 8px 16px; background: #007cba; color: white; border: none; border-radius: 4px; cursor: pointer;">
            Refresh Page
          </button>
        </div>
      `}else f&&f.__vue_app__||console.error("Host Dashboard container not found")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ce):ce();setTimeout(ce,100);
